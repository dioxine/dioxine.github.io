var W=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var z=Object.getOwnPropertySymbols,I=Object.prototype.hasOwnProperty,U=Object.prototype.propertyIsEnumerable;function V(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function N(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},i=0;i<10;i++)t["_"+String.fromCharCode(i)]=i;var s=Object.getOwnPropertyNames(t).map(function(a){return t[a]});if(s.join("")!=="0123456789")return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(a){r[a]=a}),Object.keys(Object.assign({},r)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var H=N()?Object.assign:function(e,t){for(var i,s=V(e),r,a=1;a<arguments.length;a++){i=Object(arguments[a]);for(var l in i)I.call(i,l)&&(s[l]=i[l]);if(z){r=z(i);for(var n=0;n<r.length;n++)U.call(i,r[n])&&(s[r[n]]=i[r[n]])}}return s};function C(){}C.prototype={on:function(e,t,i){var s=this.e||(this.e={});return(s[e]||(s[e]=[])).push({fn:t,ctx:i}),this},once:function(e,t,i){var s=this;function r(){s.off(e,r),t.apply(i,arguments)}return r._=t,this.on(e,r,i)},emit:function(e){var t=[].slice.call(arguments,1),i=((this.e||(this.e={}))[e]||[]).slice(),s=0,r=i.length;for(s;s<r;s++)i[s].fn.apply(i[s].ctx,t);return this},off:function(e,t){var i=this.e||(this.e={}),s=i[e],r=[];if(s&&t)for(var a=0,l=s.length;a<l;a++)s[a].fn!==t&&s[a].fn._!==t&&r.push(s[a]);return r.length?i[e]=r:delete i[e],this}};var K=C,Y={};(function(e){(function(){var t;t=e!==null?e:this,t.Lethargy=function(){function i(s,r,a,l){this.stability=s!=null?Math.abs(s):8,this.sensitivity=r!=null?1+Math.abs(r):100,this.tolerance=a!=null?1+Math.abs(a):1.1,this.delay=l!=null?l:150,this.lastUpDeltas=function(){var n,o,h;for(h=[],n=1,o=this.stability*2;1<=o?n<=o:n>=o;1<=o?n++:n--)h.push(null);return h}.call(this),this.lastDownDeltas=function(){var n,o,h;for(h=[],n=1,o=this.stability*2;1<=o?n<=o:n>=o;1<=o?n++:n--)h.push(null);return h}.call(this),this.deltasTimestamp=function(){var n,o,h;for(h=[],n=1,o=this.stability*2;1<=o?n<=o:n>=o;1<=o?n++:n--)h.push(null);return h}.call(this)}return i.prototype.check=function(s){var r;return s=s.originalEvent||s,s.wheelDelta!=null?r=s.wheelDelta:s.deltaY!=null?r=s.deltaY*-40:(s.detail!=null||s.detail===0)&&(r=s.detail*-40),this.deltasTimestamp.push(Date.now()),this.deltasTimestamp.shift(),r>0?(this.lastUpDeltas.push(r),this.lastUpDeltas.shift(),this.isInertia(1)):(this.lastDownDeltas.push(r),this.lastDownDeltas.shift(),this.isInertia(-1))},i.prototype.isInertia=function(s){var r,a,l,n,o,h,f;return r=s===-1?this.lastDownDeltas:this.lastUpDeltas,r[0]===null?s:this.deltasTimestamp[this.stability*2-2]+this.delay>Date.now()&&r[0]===r[this.stability*2-1]?!1:(l=r.slice(0,this.stability),a=r.slice(this.stability,this.stability*2),f=l.reduce(function(u,d){return u+d}),o=a.reduce(function(u,d){return u+d}),h=f/l.length,n=o/a.length,Math.abs(h)<Math.abs(n*this.tolerance)&&this.sensitivity<Math.abs(n)?s:!1)},i.prototype.showLastUpDeltas=function(){return this.lastUpDeltas},i.prototype.showLastDownDeltas=function(){return this.lastDownDeltas},i}()}).call(W)})(Y);var R=function(){return{hasWheelEvent:"onwheel"in document,hasMouseWheelEvent:"onmousewheel"in document,hasTouch:"ontouchstart"in window||window.TouchEvent||window.DocumentTouch&&document instanceof DocumentTouch,hasTouchWin:navigator.msMaxTouchPoints&&navigator.msMaxTouchPoints>1,hasPointer:!!window.navigator.msPointerEnabled,hasKeyDown:"onkeydown"in document,isFirefox:navigator.userAgent.indexOf("Firefox")>-1}}(),q=Object.prototype.toString,G=Object.prototype.hasOwnProperty,Z=function(e){if(!e)return console.warn("bindAll requires at least one argument.");var t=Array.prototype.slice.call(arguments,1);if(t.length===0)for(var i in e)G.call(e,i)&&typeof e[i]=="function"&&q.call(e[i])=="[object Function]"&&t.push(i);for(var s=0;s<t.length;s++){var r=t[s];e[r]=J(e[r],e)}};function J(e,t){return function(){return e.apply(t,arguments)}}var Q=H,tt=K,et=Y.Lethargy,y=R,it=Z,O="virtualscroll",st=w,x={LEFT:37,UP:38,RIGHT:39,DOWN:40,SPACE:32};function w(e){it(this,"_onWheel","_onMouseWheel","_onTouchStart","_onTouchMove","_onKeyDown"),this.el=window,e&&e.el&&(this.el=e.el,delete e.el),this.options=Q({mouseMultiplier:1,touchMultiplier:2,firefoxMultiplier:15,keyStep:120,preventTouch:!1,unpreventTouchClass:"vs-touchmove-allowed",limitInertia:!1,useKeyboard:!0,useTouch:!0},e),this.options.limitInertia&&(this._lethargy=new et),this._emitter=new tt,this._event={y:0,x:0,deltaX:0,deltaY:0},this.touchStartX=null,this.touchStartY=null,this.bodyTouchAction=null,this.options.passive!==void 0&&(this.listenerOptions={passive:this.options.passive})}w.prototype._notify=function(e){var t=this._event;t.x+=t.deltaX,t.y+=t.deltaY,this._emitter.emit(O,{x:t.x,y:t.y,deltaX:t.deltaX,deltaY:t.deltaY,originalEvent:e})};w.prototype._onWheel=function(e){var t=this.options;if(!(this._lethargy&&this._lethargy.check(e)===!1)){var i=this._event;i.deltaX=e.wheelDeltaX||e.deltaX*-1,i.deltaY=e.wheelDeltaY||e.deltaY*-1,y.isFirefox&&e.deltaMode==1&&(i.deltaX*=t.firefoxMultiplier,i.deltaY*=t.firefoxMultiplier),i.deltaX*=t.mouseMultiplier,i.deltaY*=t.mouseMultiplier,this._notify(e)}};w.prototype._onMouseWheel=function(e){if(!(this.options.limitInertia&&this._lethargy.check(e)===!1)){var t=this._event;t.deltaX=e.wheelDeltaX?e.wheelDeltaX:0,t.deltaY=e.wheelDeltaY?e.wheelDeltaY:e.wheelDelta,this._notify(e)}};w.prototype._onTouchStart=function(e){var t=e.targetTouches?e.targetTouches[0]:e;this.touchStartX=t.pageX,this.touchStartY=t.pageY};w.prototype._onTouchMove=function(e){var t=this.options;t.preventTouch&&!e.target.classList.contains(t.unpreventTouchClass)&&e.preventDefault();var i=this._event,s=e.targetTouches?e.targetTouches[0]:e;i.deltaX=(s.pageX-this.touchStartX)*t.touchMultiplier,i.deltaY=(s.pageY-this.touchStartY)*t.touchMultiplier,this.touchStartX=s.pageX,this.touchStartY=s.pageY,this._notify(e)};w.prototype._onKeyDown=function(e){var t=this._event;t.deltaX=t.deltaY=0;var i=window.innerHeight-40;switch(e.keyCode){case x.LEFT:case x.UP:t.deltaY=this.options.keyStep;break;case x.RIGHT:case x.DOWN:t.deltaY=-this.options.keyStep;break;case e.shiftKey:t.deltaY=i;break;case x.SPACE:t.deltaY=-i;break;default:return}this._notify(e)};w.prototype._bind=function(){y.hasWheelEvent&&this.el.addEventListener("wheel",this._onWheel,this.listenerOptions),y.hasMouseWheelEvent&&this.el.addEventListener("mousewheel",this._onMouseWheel,this.listenerOptions),y.hasTouch&&this.options.useTouch&&(this.el.addEventListener("touchstart",this._onTouchStart,this.listenerOptions),this.el.addEventListener("touchmove",this._onTouchMove,this.listenerOptions)),y.hasPointer&&y.hasTouchWin&&(this.bodyTouchAction=document.body.style.msTouchAction,document.body.style.msTouchAction="none",this.el.addEventListener("MSPointerDown",this._onTouchStart,!0),this.el.addEventListener("MSPointerMove",this._onTouchMove,!0)),y.hasKeyDown&&this.options.useKeyboard&&document.addEventListener("keydown",this._onKeyDown)};w.prototype._unbind=function(){y.hasWheelEvent&&this.el.removeEventListener("wheel",this._onWheel),y.hasMouseWheelEvent&&this.el.removeEventListener("mousewheel",this._onMouseWheel),y.hasTouch&&(this.el.removeEventListener("touchstart",this._onTouchStart),this.el.removeEventListener("touchmove",this._onTouchMove)),y.hasPointer&&y.hasTouchWin&&(document.body.style.msTouchAction=this.bodyTouchAction,this.el.removeEventListener("MSPointerDown",this._onTouchStart,!0),this.el.removeEventListener("MSPointerMove",this._onTouchMove,!0)),y.hasKeyDown&&this.options.useKeyboard&&document.removeEventListener("keydown",this._onKeyDown)};w.prototype.on=function(e,t){this._emitter.on(O,e,t);var i=this._emitter.e;i&&i[O]&&i[O].length===1&&this._bind()};w.prototype.off=function(e,t){this._emitter.off(O,e,t);var i=this._emitter.e;(!i[O]||i[O].length<=0)&&this._unbind()};w.prototype.reset=function(){var e=this._event;e.x=0,e.y=0};w.prototype.destroy=function(){this._emitter.off(),this._unbind()};var L={exports:{}},B=typeof document!="undefined"?document.createElement("p").style:{},$=["O","ms","Moz","Webkit"],_=/([A-Z])/g,k={};function X(e){if(e=e.replace(/-([a-z])/g,function(r,a){return a.toUpperCase()}),B[e]!==void 0)return e;for(var t=e.charAt(0).toUpperCase()+e.slice(1),i=$.length;i--;){var s=$[i]+t;if(B[s]!==void 0)return s}return e}function rt(e){return e in k?k[e]:k[e]=X(e)}function nt(e){return e=X(e),_.test(e)&&(e="-"+e.replace(_,"-$1"),_.lastIndex=0),e.toLowerCase()}L.exports=rt;L.exports.dash=nt;var ot=L.exports;/*!
    * rolly.js v0.4.0
    * (c) 2020 Mickael Chanrion
    * Released under the MIT license
    */var T={getCSSTransform:function(t,i){return i?"translate3d(0, "+t+"px, 0)":"translate3d("+t+"px, 0, 0)"},getElements:function(t,i){return i===void 0&&(i=document),Array.from(i.querySelectorAll(t))}};function at(e,t){var i={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)===-1&&(i[s]=e[s]);return i}var D=function(t,i){this.options=i,this.state={caching:!1,cache:null,inView:!1,active:!1,progress:0,progressInView:0},this.DOM={context:t}};D.prototype.cache=function(t){var i=this;return new Promise(function(s,r){i.state.caching=!0;var a=i.options,l=a.vertical,n=0,o=l?t.height:t.width,h=i.DOM,f=h.context;f.style.display=null;var u=window.getComputedStyle(f);u.display==="none"&&(i.state.cache=null,s(i.state.cache)),u.display==="inline"&&(f.style.display="block"),f.style[t.transformPrefix]=null;var d=f.getBoundingClientRect(),p=f.getAttribute("data-scene"),v=i.options.scenes,b=v[p]||{},g={context:f,type:p,top:l?d.top+n:d.top,bottom:l?d.bottom+n:d.bottom,left:l?d.left:d.left+n,right:l?d.right:d.right+n,size:l?d.height:d.width,speed:parseFloat(f.getAttribute("data-speed"))||b.speed||v.speed,trigger:f.getAttribute("data-trigger")||b.trigger||v.trigger},S=g.trigger,E=0;S==="middle"?E=o/2:S==="end"?E=o:S.slice(-2)==="px"?E=parseFloat(S):S.slice(-1)==="%"&&(E=o*parseFloat(S)/100),g.triggerOffset=E;var P=l?g.top+g.size/2-t.height/2:g.left+g.size/2-t.width/2;g.offset=P-P*g.speed;var F=b.cache||v.cache;if(F&&F){var j=F.call(i,{cache:g,globalState:t,sceneState:i.state});g=Object.assign({},g,j)}i.state.cache=g,i.state.caching=!1,s(i.state.cache)})};D.prototype.change=function(t){if(!this.state.cache||this.state.caching)return!1;var i=this.options.vertical?t.height:t.width,s=this.state,r=s.cache,a=s.active,l=this.calc(t),n=l.inView,o=l.transform,h=l.start;this.state.progress=this.getProgress(o),this.state.progressInView=this.getProgressInView(h,i);var f=this.options.scenes,u=f[r.type],d=at(f,[r.type]),p=d;u||(u={});var v={globalState:t,sceneState:this.state,transform:o};if(this.state.inView!==n){var b=n?"appear":"disappear";u[b]?u[b].call(this,v):p[b]&&p[b].call(this,v),this.state.inView=n}return n?(this.DOM.context.style.willChange="transform",u.change?u.change.call(this,v):p.change&&p.change.call(this,v),this.checkEnter(a,this.state.progress)?(this.state.active=!0,u.enter?u.enter.call(this,v):p.enter&&p.enter.call(this,v)):this.checkLeave(a,this.state.progress)&&(this.state.active=!1,u.leave?u.leave.call(this,v):p.leave&&p.leave.call(this,v)),u.transform?u.transform.call(this,v):p.transform?p.transform.call(this,v):this.DOM.context.style[t.transformPrefix]=T.getCSSTransform(o,this.options.vertical)):(this.DOM.context.style[t.transformPrefix]=T.getCSSTransform(Math.max(t.bounding,i+50),this.options.vertical),this.DOM.context.style.willChange=null),!0};D.prototype.calc=function(t){var i=this.options,s=i.vertical,r=this.state.cache,a=r.top,l=r.right,n=r.bottom,o=r.left,h=r.speed,f=r.offset,u=t.width,d=t.height,p=t.current,v=p*-h-f,b=Math.round((s?a:o)+v),g=Math.round((s?n:l)+v),S=g>0&&b<(s?d:u);return{transform:v,start:b,end:g,inView:S}};D.prototype.getProgress=function(t){var i=this.options,s=i.vertical,r=this.state,a=r.cache,l=a.triggerOffset,n=-t+l,o=(n-(s?a.top:a.left))/a.size;return o<0||o>1?-1:o};D.prototype.getProgressInView=function(t,i){return(i-t)/(i+this.state.cache.size)};D.prototype.checkEnter=function(t,i){return!t&&i>=0&&i<=1};D.prototype.checkLeave=function(t,i){return t&&i===-1};var m=function(t,i,s,r){this.options=r,this.DOM=this.render(t),this.state={clicked:!1,thumb:{size:0}},this.cache(i),this.setTarget=s},A={thumbSize:{configurable:!0}};m.prototype.cache=function(t){this.state.cache={bounding:t.bounding,viewSize:this.options.vertical?t.height:t.width},this.updateThumbSize()};m.prototype.change=function(t){var i=t.current,s=t.transformPrefix,r=this.state.cache,a=r.bounding,l=r.viewSize,n=this,o=n.thumbSize,h=Math.abs(i)/(a/(l-o))+o/.5-o,f=Math.max(0,Math.min(h-o,h+o));this.DOM.thumb.style[s]=T.getCSSTransform(f.toFixed(2),this.options.vertical)};m.prototype.calc=function(t){return t*(this.state.cache.bounding/this.state.cache.viewSize)};m.prototype.render=function(t){var i=document.createElement("div"),s=this.options.vertical?"y":"x";i.className="rolly-scroll-bar "+s+"-scroll";var r=document.createElement("div");return r.className="rolly-scroll-bar-thumb",i.appendChild(r),t.appendChild(i),{parent:t,context:i,thumb:r}};m.prototype.on=function(){this.boundFns={click:this.click.bind(this),mouseDown:this.mouseDown.bind(this),mouseMove:this.mouseMove.bind(this),mouseUp:this.mouseUp.bind(this)},this.DOM.context.addEventListener("click",this.boundFns.click),this.DOM.context.addEventListener("mousedown",this.boundFns.mouseDown),document.addEventListener("mousemove",this.boundFns.mouseMove),document.addEventListener("mouseup",this.boundFns.mouseUp)};m.prototype.off=function(){return this.boundFns?(this.DOM.context.removeEventListener("click",this.boundFns.click),this.DOM.context.removeEventListener("mousedown",this.boundFns.mouseDown),document.removeEventListener("mousemove",this.boundFns.mouseMove),document.removeEventListener("mouseup",this.boundFns.mouseUp),delete this.boundFns,!0):!1};m.prototype.click=function(t){var i=this.calc(this.options.vertical?t.clientY:t.clientX);this.setTarget(i)};m.prototype.mouseDown=function(t){t.preventDefault(),t.which===1&&(this.state.clicked=!0),this.DOM.parent.classList.add("is-dragging-scroll-bar")};m.prototype.mouseMove=function(t){if(this.state.clicked){var i=this.calc(this.options.vertical?t.clientY:t.clientX);this.setTarget(i)}};m.prototype.mouseUp=function(t){this.state.clicked=!1,this.DOM.parent.classList.remove("is-dragging-scroll-bar")};A.thumbSize.get=function(){return this.state.thumb.size};A.thumbSize.set=function(e){this.state.thumb.size=e;var t=this.options.vertical?"height":"width";this.DOM.thumb.style[t]=e+"px"};m.prototype.updateThumbSize=function(){var t=this.state.cache,i=t.bounding;if(i<=0){this.DOM.context.classList.add("is-hidden"),this.thumbSize=0;return}this.DOM.context.classList.remove("is-hidden");var s=this.state.cache,r=s.viewSize;this.thumbSize=r*(r/(i+r))};m.prototype.destroy=function(){this.off(),this.DOM.parent.removeChild(this.DOM.context)};Object.defineProperties(m.prototype,A);var c={getBoundFns:function(){var t=this,i={};return["resize","debounceScroll","virtualScroll"].map(function(s){return i[s]=c[s].bind(t)}),i},initState:function(){this.state={current:0,previous:0,target:null,width:window.innerWidth,height:window.innerHeight,bounding:0,ready:!1,preLoaded:!1,changing:!1,transformPrefix:ot("transform")},this.privateState={rAF:void 0,isRAFCanceled:!1,debounceScroll:{timer:null,tick:!1},scrollTo:{}}},initScenes:function(){var t=this;this.scenes=[],T.getElements(this.options.scenes.selector,this.DOM.view).forEach(function(i){return t.scenes.push(new D(i,t.options))})},change:function(){var t=this;if(!this.privateState.isRAFCanceled){c.rAF.call(this);var i=this.state.target-this.state.current,s=i*this.options.ease;Math.abs(i)<.1?(c.cAF.call(this),s=0,this.state.current=this.state.target,this.state.changing&&(this.state.changing=!1,this.options.changeEnd(this.state))):(this.state.current+=s,this.state.changing||(this.state.changing=!0,this.options.changeStart(this.state))),Math.abs(i)<10&&this.privateState.scrollTo.callback&&(this.privateState.scrollTo.callback(this.state),this.privateState.scrollTo.callback=null),this.scrollBar&&this.scrollBar.change(this.state),this.options.change(this.state),this.scenes.forEach(function(r){return r.change(t.state)}),this.state.previous=this.state.current}},rAF:function(){this.privateState.isRAFCanceled=!1,this.privateState.rAF=requestAnimationFrame(c.change.bind(this))},cAF:function(){this.privateState.isRAFCanceled=!0,this.privateState.rAF=cancelAnimationFrame(this.privateState.rAF)},ready:function(){return this.state.ready&&(this.options.preload?this.state.preLoaded:!0)?(this.options.ready(this.state),!0):!1},virtualScroll:function(t){if(!this.privateState.scrollTo.callback){var i=this.options.vertical?t.deltaY:t.deltaX;c.setTarget.call(this,this.state.target+i*-1)}},debounceScroll:function(t){var i=this;if(!this.privateState.scrollTo.callback){var s=this.DOM.listener===document.body,r;this.options.vertical?r=s?window.scrollY||window.pageYOffset:this.DOM.listener.scrollTop:r=s?window.scrollX||window.pageXOffset:this.DOM.listener.scrollLeft,c.setTarget.call(this,r),clearTimeout(this.privateState.debounceScroll.timer),this.privateState.debounceScroll.tick||(this.privateState.debounceScroll.tick=!0,this.DOM.listener.classList.add("is-scrolling")),this.privateState.debounceScroll.timer=setTimeout(function(){i.privateState.debounceScroll.tick=!1,i.DOM.listener.classList.remove("is-scrolling")},200)}},resize:function(t){var i=this,s=this.options.vertical?"height":"width";this.state.height=window.innerHeight,this.state.width=window.innerWidth;var r=this.options,a=r.native,l=r.vertical,n=this.DOM.view.getBoundingClientRect();this.state.bounding=l?n.height-(a?0:this.state.height):n.right-(a?0:this.state.width),this.scrollBar?this.scrollBar.cache(this.state):a&&(this.DOM.scroll.style[s]=this.state.bounding+"px"),c.setTarget.call(this,this.state.target),this.scenes.forEach(function(o){return o.cache(i.state)})},extendOptions:function(t){var i=this.options?this.options:c.getDefaults.call(this);return t.virtualScroll=Object.assign({},i.virtualScroll,t.virtualScroll),t.scenes=Object.assign({},i.scenes,t.scenes),Object.assign({},i,t)},preloadImages:function(t){var i=T.getElements("img",this.DOM.listener);if(!i.length){t&&t();return}i.forEach(function(s){var r=document.createElement("img");r.onload=function(){i.splice(i.indexOf(s),1),i.length===0&&t()},r.src=s.currentSrc||s.src})},addFakeScrollHeight:function(){var t=document.createElement("div");t.className="rolly-scroll-view",this.DOM.scroll=t,this.DOM.listener.appendChild(this.DOM.scroll)},removeFakeScrollHeight:function(){this.DOM.listener.removeChild(this.DOM.scroll)},addFakeScrollBar:function(){this.scrollBar=new m(this.DOM.listener,this.state,c.setTarget.bind(this),this.options)},removeFakeScrollBar:function(){this.scrollBar.destroy()},getDefaults:function(){return{vertical:!0,listener:document.body,view:T.getElements(".rolly-view")[0]||null,native:!0,preload:!0,autoUpdate:!0,ready:function(){},change:function(){},changeStart:function(){},changeEnd:function(){},ease:.075,virtualScroll:{limitInertia:!1,mouseMultiplier:.5,touchMultiplier:1.5,firefoxMultiplier:30,preventTouch:!0},noScrollBar:!1,scenes:{selector:"[data-scene]",speed:1,trigger:"middle"}}},getNodeListener:function(){return this.DOM.listener===document.body?window:this.DOM.listener},setTarget:function(t){this.state.target=Math.round(Math.max(0,Math.min(t,this.state.bounding))),!this.privateState.rAF&&c.rAF.call(this)}},M=function(t){t===void 0&&(t={}),this.boundFns=c.getBoundFns.call(this),this.options=c.extendOptions.call(this,t),this.DOM={listener:this.options.listener,view:this.options.view},c.initScenes.call(this)};M.prototype.init=function(){var t=this;this.virtualScroll=this.options.native?null:new st(this.options.virtualScroll),c.initState.call(this);var i=this.options.native?"native":"virtual",s=this.options.vertical?"y":"x";this.DOM.listener.classList.add("is-"+i+"-scroll"),this.DOM.listener.classList.add(s+"-scroll"),this.DOM.view.classList.add("rolly-view"),this.options.native?c.addFakeScrollHeight.call(this):!this.options.noScrollBar&&c.addFakeScrollBar.call(this),this.options.preload&&c.preloadImages.call(this,function(){t.state.preLoaded=!0,t.boundFns.resize(),c.ready.call(t)}),this.on()};M.prototype.on=function(t){if(t===void 0&&(t=!0),this.options.native){var i=c.getNodeListener.call(this);i.addEventListener("scroll",this.boundFns.debounceScroll)}else this.virtualScroll&&this.virtualScroll.on(this.boundFns.virtualScroll);this.scrollBar&&this.scrollBar.on(),t&&c.rAF.call(this),c.resize.call(this),this.options.autoUpdate&&window.addEventListener("resize",this.boundFns.resize),this.state.ready=!0,c.ready.call(this)};M.prototype.off=function(t){if(t===void 0&&(t=!0),this.options.native){var i=c.getNodeListener.call(this);i.removeEventListener("scroll",this.boundFns.debounceScroll)}else this.virtualScroll&&this.virtualScroll.off(this.boundFns.virtualScroll);this.scrollBar&&this.scrollBar.off(),t&&c.cAF.call(this),this.options.autoUpdate&&window.removeEventListener("resize",this.boundFns.resize),this.state.ready=!1};M.prototype.destroy=function(){var t=this.options.native?"native":"virtual",i=this.options.vertical?"y":"x";this.DOM.listener.classList.remove("is-"+t+"-scroll"),this.DOM.listener.classList.remove(i+"-scroll"),this.DOM.view.classList.remove("rolly-view"),this.virtualScroll&&(this.virtualScroll.destroy(),this.virtualScroll=null),this.off(),this.options.native?c.removeFakeScrollHeight.call(this):!this.options.noScrollBar&&c.removeFakeScrollBar.call(this)};M.prototype.reload=function(t){t===void 0&&(t=this.options),this.destroy(),this.boundFns=c.getBoundFns.call(this),this.options=c.extendOptions.call(this,t);var i=this,s=i.DOM;this.DOM=Object.assign({},s,{listener:this.options.listener,view:this.options.view}),c.initScenes.call(this),this.init()};M.prototype.scrollTo=function(t,i){var s,r={offset:0,position:"start",callback:null};i=Object.assign({},r,i);var a=this.options,l=a.vertical,n=this.state.current,o=null,h=n+i.offset;switch(typeof t=="string"&&(s=T.getElements(t),t=s[0]),typeof t){case"number":default:h=t;break;case"object":if(!t)return;o=t.getBoundingClientRect(),h+=l?o.top:o.left;break}switch(i.position){case"center":default:h-=l?this.state.height/2:this.state.width/2;break;case"end":h-=l?this.state.height:this.state.width;break}i.callback&&(this.privateState.scrollTo.callback=i.callback),this.options.native?this.options.vertical?window.scrollTo(0,h):window.scrollTo(h,0):c.setTarget.call(this,h)};M.prototype.update=function(){c.resize.call(this)};var lt=function(e){return new M(e)};export{lt as default};
